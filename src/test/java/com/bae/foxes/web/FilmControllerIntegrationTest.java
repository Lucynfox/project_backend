package com.bae.foxes.web;

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.delete;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.put;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

import java.util.List;

import org.apache.tomcat.util.http.parser.MediaType;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;
import org.springframework.test.context.ActiveProfiles;
import org.springframework.test.context.jdbc.Sql;
import org.springframework.test.context.jdbc.Sql.ExecutionPhase;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.test.web.servlet.RequestBuilder;
import org.springframework.test.web.servlet.ResultMatcher;

import com.bae.films.domain.Film;
import com.fasterxml.jackson.databind.ObjectMapper;

public class FilmControllerIntegrationTest {
	@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)
	@AutoConfigureMockMvc // sets up the MockMVC object
	@Sql(scripts = { "classpath:dino-schema.sql",
			"classpath:dino-data.sql" }, executionPhase = ExecutionPhase.BEFORE_TEST_METHOD)
	@ActiveProfiles("test")
	public class DinoControllerIntegrationTest {

		@Autowired
		private MockMvc mvc;

		@Autowired
		private ObjectMapper mapper;

		@Test
		void testCreate() throws Exception {
			Film testFilm = new Film(null, "film", 3, 2002, "filmimg", 200);
			String testFilmAsJSON = this.mapper.writeValueAsString(testFilm);
			RequestBuilder req = post("/create").contentType(MediaType.APPLICATION_JSON).content(testFilmAsJSON);

			Film testCreatedFilm = new Film(4, "film", 3, 2002, "filmimg", 200);
			String testCreatedFilmAsJSON = this.mapper.writeValueAsString(testCreatedFilm);
			ResultMatcher checkStatus = status().isCreated();
			ResultMatcher checkBody = content().json(testCreatedFilmAsJSON);

			this.mvc.perform(req).andExpect(checkStatus).andExpect(checkBody);
		}

		@Test
		void getAllTest() throws Exception {
			RequestBuilder req = get("/getAll");

			List<Film> testFilms = List.of(new Film(1, "Jurrasic Park", 5, 1990,  "filmimg", 300),
					new Film(2, "made up film", 10, 2020, "filmimg", 150),
			String json = this.mapper.writeValueAsString(testFilms);

			ResultMatcher checkStatus = status().isOk();
			ResultMatcher checkBody = content().json(json);

			this.mvc.perform(req).andExpect(checkStatus).andExpect(checkBody);
		}

		@Test
		void testReplace() throws Exception {
			Film testFilm = new Film(null, "barney", 10, 1990,
					"data:image/jpeg;base64,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",
					200);
			String testFilmAsJSON = this.mapper.writeValueAsString(testFilm);
			RequestBuilder req = put("/replace/1").contentType(MediaType.APPLICATION_JSON).content(testFilmAsJSON);

			Film testCreatedFilm = new Film(1, "barney", 10, 1990,
					"data:image/jpeg;base64,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",
					200);
			String testCreatedFilmAsJSON = this.mapper.writeValueAsString(testCreatedFilm);
			ResultMatcher checkStatus = status().isAccepted();
			ResultMatcher checkBody = content().json(testCreatedFilmAsJSON);

			this.mvc.perform(req).andExpect(checkStatus).andExpect(checkBody);
		}

		@Test
		void testDelete() throws Exception {
			this.mvc.perform(delete("/remove/1")).andExpect(status().isNoContent());
		}

}
